<!doctype html>
<html>

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <title>Hello!</title>
</head>

<body>

    <div class="container-xxl my-md-4 bd-layout">
        <div class="bd-content ps-lg-4">
            <div class="row">
                <div class="col-6">
                    <h4 id="item-1">卷积尺寸计算工具</h4>
                    <p>计算数据经过各卷积层后的尺寸</p>
                    <div class="row">
                        <div class="col-md-6">
                            <label for="shape2" class="form-label">shape[2]</label>
                            <input type="number" class="form-control" id="shape2">
                        </div>
                        <div class="col-md-6">
                            <label for="shape3" class="form-label">shape[3]</label>
                            <input type="number" class="form-control" id="shape3">
                        </div>
                        <div class="row-md-6">
                            <br>
                            <label for="k">kernel size</label>
                            <input type="number" class="form-control" id="k1">
                            <input type="number" class="form-control" id="k2">
                            <br>
                            <label for="s">stride</label>
                            <input type="number" class="form-control" id="s1">
                            <input type="number" class="form-control" id="s2">
                            <br>
                            <label for="p">padding</label>
                            <input type="number" class="form-control" id="p1">
                            <input type="number" class="form-control" id="p2">
                            <br>
                        </div>
                        <div class="col-6">
                            <button id="cal" type="submit" class="btn btn-primary">cal</button>
                            <button id="clc" type="submit" class="btn btn-primary">clc</button>
                        </div>
                        <!-------------------------------------------->
                        <script>
                            $("#cal").click(function () {
                                var sp2 = $("#shape2").val();
                                var sp3 = $("#shape3").val();

                                var k1 = $("#k1").val();
                                var k2 = $("#k2").val();
                                
                                var s1 = $("#s1").val();
                                var s2 = $("#s2").val();
                                
                                var p1 = $("#p1").val();
                                var p2 = $("#p2").val();

                                var out = "";
                                var log = $("#dataArea").html();
                                //1min=60000ms

                                var sp2 = Number(sp2)
                                var sp3 = Number(sp3)
                                var k1 = Number(k1)
                                var k2 = Number(k2)
                                var s1 = Number(s1)
                                var s2 = Number(s2)
                                var p1 = Number(p1)
                                var p2 = Number(p2)

                                var o1 = (sp2+2*p1-k1)/s1+1;
                                var o2 = (sp3+2*p2-k2)/s2+1;

                                // console.log(sp2, sp3, k1, k2, s1, s2, p1, p2);

                                out += "输出尺寸为：("+o1.toString()+", "+o2.toString()+")"+"<br>";
                                // console.log(o1, o2);

                                out = log+out;
                                $("#dataArea").html(out);
                            });
                            $("#clc").click(function () {
                                var out = "";
                                $("#dataArea").html(out);
                            });
                        </script>
                        <!-------------------------------------------->
                    </div>
                    <br>
                    <p id="dataArea"></p>
                    <br>
                </div>
            </div>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj"
                crossorigin="anonymous">
                </script>
        </div>
</body>

</html>